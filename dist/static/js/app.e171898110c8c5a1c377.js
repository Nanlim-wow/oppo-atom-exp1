webpackJsonp([1],{"/KV2":function(e,t){},0:function(e,t){},"0n47":function(e,t){},1:function(e,t){},2:function(e,t){},Aw5K:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},a,!1,function(e){s("QJqv")},"data-v-274760e0",null).exports,o=s("/ocq"),r={data:function(){return{name:"",age:"18",num:"",exp:"",showHint:!1,blackScreen:!1}},mounted:function(){this.showHint=!1,this.blackScreen=!1},methods:{beginTest:function(){var e=this;this.name&&this.exp&&this.age&&this.num&&this.num<7&&this.num>0&&this.num%1==0?(this.showHint=!0,setTimeout(function(){e.blackScreen=!0},3e3),setTimeout(function(){e.$router.push({path:"/image",query:{name:e.name.concat(e.exp),age:e.age,number:e.num}})},1e3)):alert("姓名、年龄或序号错误！")}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{class:["info",{hidden:e.blackScreen}]},[s("div",{class:["info-input",{hidden:this.showHint}]},[s("div",{staticClass:"name"},[s("span",[e._v("Name:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"num"},[s("span",[e._v("Exp:    ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.exp,expression:"exp"}],attrs:{type:"text"},domProps:{value:e.exp},on:{input:function(t){t.target.composing||(e.exp=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"num"},[s("span",[e._v("No:     ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],attrs:{type:"text"},domProps:{value:e.num},on:{input:function(t){t.target.composing||(e.num=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"begin"},[s("div",{staticClass:"button",on:{click:e.beginTest}},[e._v("Start")])])]),e._v(" "),s("div",{class:["hint",{hidden:!e.showHint}]},[e._v("\n      即将进入实验阶段"),s("br"),e._v("\n      Ready for experiment.\n    ")])])])},staticRenderFns:[]};var m=s("VU/8")(r,c,!1,function(e){s("cP83")},"data-v-1bcb86f5",null).exports,u=s("//Fk"),l=s.n(u),p="http://10.12.15.28/Pictures/new_skin",g=[{pic:"new_image_1_1.jpg",url:p+"/new_image_1_1.jpg"},{pic:"new_image_1_2.jpg",url:p+"/new_image_1_2.jpg"},{pic:"new_image_1_3.jpg",url:p+"/new_image_1_3.jpg"},{pic:"new_image_1_4.jpg",url:p+"/new_image_1_4.jpg"},{pic:"new_image_1_5.jpg",url:p+"/new_image_1_5.jpg"},{pic:"new_image_1_6.jpg",url:p+"/new_image_1_6.jpg"},{pic:"new_image_1_7.jpg",url:p+"/new_image_1_7.jpg"},{pic:"new_image_1_8.jpg",url:p+"/new_image_1_8.jpg"},{pic:"new_image_1_9.jpg",url:p+"/new_image_1_9.jpg"},{pic:"new_image_1_10.jpg",url:p+"/new_image_1_10.jpg"},{pic:"new_image_1_11.jpg",url:p+"/new_image_1_11.jpg"},{pic:"new_image_1_12.jpg",url:p+"/new_image_1_12.jpg"},{pic:"new_image_1_13.jpg",url:p+"/new_image_1_13.jpg"},{pic:"new_image_1_14.jpg",url:p+"/new_image_1_14.jpg"},{pic:"new_image_1_15.jpg",url:p+"/new_image_1_15.jpg"},{pic:"new_image_1_16.jpg",url:p+"/new_image_1_16.jpg"},{pic:"new_image_1_17.jpg",url:p+"/new_image_1_17.jpg"},{pic:"new_image_1_18.jpg",url:p+"/new_image_1_18.jpg"},{pic:"new_image_1_19.jpg",url:p+"/new_image_1_19.jpg"},{pic:"new_image_1_20.jpg",url:p+"/new_image_1_20.jpg"}],d={name:"HelloWorld",data:function(){return{assessment1:"",assessment2:"",assessment3:"",assessment4:"",assessment5:"",assessment6:"",lasthideHint:!1,nexthideHint:!0,userComment:"",List:g,currentIndex:1,isFirst:!0,isLast:!1,hideEnd:!0,userCommentList:[],imageList:g,randomList:[],response:"",isLoading:!1,submitted:!1,raceimage:[]}},mounted:function(){this.currentIndex=0,this.isFirst=!0,this.isLast=!1},methods:{nextImage:function(){var e=this.userCommentList;e.length<this.imageList.length&&e.push(this.assessment1.concat(this.assessment2.concat(this.assessment3.concat(this.assessment4.concat(this.assessment5.concat(this.assessment6)))))),this.userCommentList=e;var t=this.imageList.length;this.currentIndex<t-1&&this.currentIndex++,this.isLast=this.currentIndex===t-1,this.isFirst=0===this.currentIndex,this.assessment1="",this.assessment2="",this.assessment3="",this.assessment4="",this.assessment5="",this.assessment6="",console.log(this.userCommentList)},submitResult:function(){var e=this;if(!this.isLoading){this.isLoading=!0;var t=this.userCommentList,s=this;t.length<this.imageList.length&&t.push(this.assessment1.concat(this.assessment2.concat(this.assessment3.concat(this.assessment4.concat(this.assessment5.concat(this.assessment6)))))),this.userCommentList=t;for(var n=this.imageList,a=0;a<n.length;a++)n[a].response=t[a],n[a].name=this.$route.query.name.concat(this.$route.query.number),n[a].age=this.$route.query.age;console.log(n);var i=axios.post("http://120.79.147.66:8081/survey/submit",{data:n});l.a.all([i]).then(function(t){s.isLoading=!1,s.hideEnd=!1,s.submitted=!0,setTimeout(function(){e.isSubmitting=!1},3e3)}).catch(function(e){s.isLoading=!1,s.$toast.open({message:e||"服务器错误",type:"is-danger"})})}}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",style:"background-image: url('"+this.imageList[e.currentIndex].url+"')"},[s("div",{class:["info-input"]},[s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment1,expression:"assessment1"}],attrs:{type:"text"},domProps:{value:e.assessment1},on:{input:function(t){t.target.composing||(e.assessment1=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment2,expression:"assessment2"}],attrs:{type:"text"},domProps:{value:e.assessment2},on:{input:function(t){t.target.composing||(e.assessment2=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment3,expression:"assessment3"}],attrs:{type:"text"},domProps:{value:e.assessment3},on:{input:function(t){t.target.composing||(e.assessment3=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment4,expression:"assessment4"}],attrs:{type:"text"},domProps:{value:e.assessment4},on:{input:function(t){t.target.composing||(e.assessment4=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment5,expression:"assessment5"}],attrs:{type:"text"},domProps:{value:e.assessment5},on:{input:function(t){t.target.composing||(e.assessment5=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"assessment"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment6,expression:"assessment6"}],attrs:{type:"text"},domProps:{value:e.assessment6},on:{input:function(t){t.target.composing||(e.assessment6=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"nextImage",on:{click:e.nextImage}},[s("a",{class:["button",{hidden:this.isLast}]},[e._v("下一张")])]),e._v(" "),s("div",{staticClass:"nextImage",on:{click:function(t){return t.stopPropagation(),e.submitResult(t)}}},[s("a",{class:["button",{hidden:!this.isLast}]},[e._v("submit")])]),e._v(" "),s("div",{class:["ending",{hidden:this.hideEnd}]},[e._v("\n    谢谢您的参与！"),s("br"),e._v("\n    Thank you!!\n  ")]),e._v(" "),s("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading,"can-cancel":!1},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]};var v=s("VU/8")(d,_,!1,function(e){s("0n47")},"data-v-3179fdfa",null).exports,h=s("uXZL"),f=s.n(h),w=s("t4zo");var b=function(e){var t=e.th,s=e.data,n=e.fileName,a=e.fileType,i=e.sheetName;s.unshift(t);var o=new function e(){if(!(this instanceof e))return new e;this.SheetNames=[],this.Sheets={}},r=function(e){for(var t={},s={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!==e.length;++n)for(var a=0;a!==e[n].length;++a){s.s.r>n&&(s.s.r=n),s.s.c>a&&(s.s.c=a),s.e.r<n&&(s.e.r=n),s.e.c<a&&(s.e.c=a);var i={v:e[n][a]};if(null!=i.v){var o=f.a.utils.encode_cell({c:a,r:n});"number"==typeof i.v?i.t="n":"boolean"==typeof i.v?i.t="b":i.t="s",t[o]=i}}return s.s.c<1e7&&(t["!ref"]=f.a.utils.encode_range(s)),t}(s);i=i||"sheet1",o.SheetNames.push(i),o.Sheets[i]=r,a=a||"xlsx";var c=f.a.write(o,{bookType:a,bookSST:!1,type:"binary"});n=n||"列表",Object(w.saveAs)(new Blob([function(e){for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),n=0;n!==e.length;++n)s[n]=255&e.charCodeAt(n);return t}(c)],{type:"application/octet-stream"}),n+"."+a)},x={data:function(){return{experimentDataList:[]}},mounted:function(){this.getExperimentData()},methods:{getExperimentData:function(){var e=this;axios.get("http://120.79.147.66:8081/survey/results").then(function(t){e.experimentDataList=t.data,console.log(e.experimentDataList),console.log("success")}).catch(function(e){console.log(e)})},typeOfComment:function(e){switch(e){case 1:return"喜欢";case 2:return"不喜欢";default:return"异常数据"}},styleTypeOfComment:function(e){return 1===e||2===e?"is-success":3===e||4===e?"is-warning":5===e||6===e?"is-danger":void 0},downExcel:function(){var e=["id","username","age","pic","response","url"],t=this.experimentDataList.map(function(t){return e.map(function(e){return t[e]})});console.log(t);b({th:["ID","姓名","年龄","图片名称","用户评价","图片路径"],data:t,fileName:"测试数据",fileType:"xlsx",sheetName:"测试页"})},deleteData:function(){var e=this;this.$dialog.confirm({title:"删除实验数据",message:"确定要<b>删除</b>所有实验数据？删除前请确保实验数据已经下载，删除操作不可恢复",confirmText:"确认删除",type:"is-danger",hasIcon:!0,onConfirm:function(){axios.post("http://120.79.147.66:8081/survey/clearall").then(function(t){console.log(t.data),e.getExperimentData()}).catch(function(t){e.$toast.open({message:"删除失败",type:"is-danger"})})}})}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-table",{attrs:{data:e.experimentDataList,paginated:"","per-page":"15","detail-key":"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""}},[e._v("\n        "+e._s(t.row.id)+"\n      ")]),e._v(" "),s("b-table-column",{attrs:{label:"姓名"}},[e._v("\n        "+e._s(t.row.username)+"\n      ")]),e._v(" "),s("b-table-column",{attrs:{field:"age",label:"年龄",sortable:""}},[e._v("\n        "+e._s(t.row.age)+"\n      ")]),e._v(" "),s("b-table-column",{attrs:{label:"图片名称"}},[e._v("\n        "+e._s(t.row.pic)+"\n      ")]),e._v(" "),s("b-table-column",{attrs:{label:"用户评价"}},[s("span",{class:["tag",e.styleTypeOfComment(t.row.response)]},[e._v("\n          "+e._s(e.typeOfComment(t.row.response))+"\n        ")])]),e._v(" "),s("b-table-column",{attrs:{label:"图片路径",centered:""}},[s("a",{attrs:{target:"_blank",href:t.row.url}},[e._v(e._s(t.row.url))])])]}}])}),e._v(" "),s("div",{staticClass:"downloadData"},[s("a",{staticClass:"button is-link",on:{click:e.downExcel}},[e._v("\n      下载实验数据\n    ")]),e._v(" "),s("a",{staticClass:"button is-danger",on:{click:e.deleteData}},[e._v("\n      删除实验数据\n    ")])])],1)},staticRenderFns:[]};var j=s("VU/8")(x,y,!1,function(e){s("Aw5K")},"data-v-f1bf72e8",null).exports,L={data:function(){return{length:0,isLoading:!1}},mounted:function(){},methods:{submitInfoList:function(){var e=this,t=g.length,s=new Array(t);s.fill({age:"23",name:"1231",pic:"BK_F1.jpg",response:4,url:"http://pv707742q.bkt.clouddn.com/BK_F1.jpg"});var n=t/3,a=s.slice(0,n),i=s.slice(n,2*n),o=s.slice(2*n),r=axios.post("http://120.79.147.66:8081/survey/submit",{data:a}),c=axios.post("http://120.79.147.66:8081/survey/submit",{data:i}),m=axios.post("http://120.79.147.66:8081/survey/submit",{data:o});l.a.all([r,c,m]).then(function(t){e.isLoading=!1,e.$toast.open({message:"提交成功"})}).catch(function(t){e.isLoading=!1,e.$toast.open({message:t||"服务器错误",type:"is-danger"})})}}},C={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",style:"background-image: url('http://10.12.15.27/Pictures/CEL/20151210-Christmas%20Party.jpeg')"},[s("b-field",[s("a",{staticClass:"button is-primary",on:{click:e.submitInfoList}},[e._v("测试提交全部评价")])]),e._v(" "),s("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading,"can-cancel":!1},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]};var k=s("VU/8")(L,C,!1,function(e){s("fUhD")},"data-v-2dc5f121",null).exports;n.default.use(o.a);var I=new o.a({routes:[{path:"/image",name:"ImageInfo",component:v,props:function(e){return{name:e.query.name,age:e.query.age}}},{path:"/",name:"UserInfo",component:m},{path:"/data",name:"DataStatic",component:j},{path:"/test",name:"TestSubmit",component:k}]}),N=(s("UBJh"),s("O3Oo")),D=s.n(N);s("/KV2");n.default.config.productionTip=!1,n.default.use(D.a),new n.default({el:"#app",router:I,components:{App:i},template:"<App/>"})},QJqv:function(e,t){},UBJh:function(e,t){},cP83:function(e,t){},fUhD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e171898110c8c5a1c377.js.map